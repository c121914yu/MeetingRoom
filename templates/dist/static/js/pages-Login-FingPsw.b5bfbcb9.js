(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-Login-FingPsw"],{2067:function(t,e,s){"use strict";s.r(e);var i=s("6ac8"),a=s("3f4e");for(var n in a)"default"!==n&&function(t){s.d(e,t,function(){return a[t]})}(n);s("cfc8");var o=s("2877"),r=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"6b59e2be",null);e["default"]=r.exports},"3f4e":function(t,e,s){"use strict";s.r(e);var i=s("c906"),a=s.n(i);for(var n in i)"default"!==n&&function(t){s.d(e,t,function(){return i[t]})}(n);e["default"]=a.a},"6ac8":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-uni-view",{staticClass:"findPsw"},[s("v-uni-image",{staticClass:"logo",attrs:{src:"../../static/logo.png"}}),s("v-uni-view",{staticClass:"info"},[s("v-uni-image",{attrs:{src:"../../static/login/email.png"}}),s("v-uni-input",{attrs:{type:"text",placeholder:"请输入邮箱地址"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),s("v-uni-view",{staticClass:"info"},[s("v-uni-image",{attrs:{src:"../../static/login/password.png"}}),s("v-uni-input",{attrs:{type:"text",password:!t.showpassword,placeholder:"请输入新密码",maxlength:"12"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),s("v-uni-image",{staticClass:"right",attrs:{src:!0===t.showpassword?"../../static/login/show.png":"../../static/login/hide.png"},on:{click:function(e){e=t.$handleEvent(e),t.showpassword=!t.showpassword}}})],1),s("v-uni-view",{staticClass:"info"},[s("v-uni-image",{attrs:{src:"../../static/login/password.png"}}),s("v-uni-input",{attrs:{type:"text",password:!t.showpassword,placeholder:"请再次输入密码",maxlength:"12"},model:{value:t.sure_password,callback:function(e){t.sure_password=e},expression:"sure_password"}})],1),s("v-uni-view",{staticClass:"info"},[s("v-uni-image",{attrs:{src:"../../static/login/checkrand.png"}}),s("v-uni-input",{attrs:{type:"number",maxlength:"6",placeholder:"输入验证码"},model:{value:t.rand,callback:function(e){t.rand=e},expression:"rand"}}),s("v-uni-view",{staticClass:"getrand",class:{wait:t.second>0},on:{click:function(e){e=t.$handleEvent(e),t.getrand(e)}}},[t._v(t._s(t.SendRand))])],1),s("v-uni-button",{staticClass:"change-btn",on:{click:function(e){e=t.$handleEvent(e),t.Change(e)}}},[t._v("修改密码")])],1)},a=[];s.d(e,"a",function(){return i}),s.d(e,"b",function(){return a})},a5f4:function(t,e,s){var i=s("fea8");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=s("4f06").default;a("623181d8",i,!0,{sourceMap:!1,shadowMode:!1})},c906:function(t,e,s){"use strict";(function(t){var s;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=/^(\w-*\.*)+@(\w-?)+(\.\w{2,})+$/,a={data:function(){return{email:"",password:"",sure_password:"",showpassword:!1,rand:"",sure_rand:"",second:0}},methods:{Change:function(){var e=this;if(""===this.email)this.showToast("邮箱地址为空","../../static/error.png");else if(i.test(this.email))if(""===this.password)this.showToast("请输入密码","../../static/error.png");else if(this.password.length<6)this.showToast("密码长度小于6位","../../static/error.png");else if(""===this.sure_password)this.showToast("请再次输入密码","../../static/error.png");else if(this.sure_password!=this.password)this.showToast("两次密码不一致","../../static/error.png");else if(""===this.rand)this.showToast("请输入验证码","../../static/error.png");else if(this.rand!=this.sure_rand)this.showToast("验证码错误","../../static/error.png");else{uni.showLoading({title:"找回密码中.."});var s={email:this.email,password:this.password};uni.request({url:"http://www.jinlongyuchitang.cn:3001/user/FindPsw",method:"POST",data:s,success:function(s){t.log(s.data),200===s.statusCode?"用户不存在"===s.data?e.showToast(s.data,"../../static/error.png"):uni.setStorage({key:"userInfo",data:{email:e.email,ID:s.data},success:function(){uni.reLaunch({url:"../main",success:function(){e.showToast("找回密码成功")}})}}):e.showToast("注册失败","../../static/error.png")},fail:function(){e.showToast("注册失败","../../static/error.png")},complete:function(){uni.hideLoading()}})}else this.showToast("邮箱地址错误","../../static/error.png")},getrand:function(){var t=this;0===this.second&&(""===this.email?this.showToast("邮箱地址为空","../../static/error.png"):i.test(this.email)?(this.second=30,s=setInterval(function(){t.second--,0===t.second&&clearInterval(s)},1e3),uni.request({url:"http://www.jinlongyuchitang.cn:3001/user/rand",method:"POST",data:{email:this.email},success:function(e){200===e.statusCode?(t.showToast("验证码已发送"),t.sure_rand=e.data):t.showToast("发送验证码失败","../../static/error.png")},fail:function(){t.showToast("发送验证码失败","../../static/error.png")}})):this.showToast("邮箱地址错误","../../static/error.png"))},showToast:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";uni.showToast({title:t,duration:1500,image:e})}},computed:{SendRand:function(){return 0===this.second?"获取验证码":this.second<10?"重新获取0"+this.second:"重新获取"+this.second}}};e.default=a}).call(this,s("5a52")["default"])},cfc8:function(t,e,s){"use strict";var i=s("a5f4"),a=s.n(i);a.a},fea8:function(t,e,s){e=t.exports=s("2350")(!1),e.push([t.i,".findPsw[data-v-6b59e2be]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.logo[data-v-6b59e2be]{width:100px;height:100px;border-radius:50%;margin:20px 0}.info[data-v-6b59e2be]{width:90%;margin:5px auto;padding:5px 0;border-bottom:1px solid #01907f;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.info uni-image[data-v-6b59e2be]{width:30px;height:30px}.info uni-input[data-v-6b59e2be]{margin-left:10px;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.info .right[data-v-6b59e2be]{width:25px;height:25px;margin-right:10px}.getrand[data-v-6b59e2be]{\n\t/*获取验证码按键*/color:#ff7d13;font-size:15px;width:35%;height:30px;border:1px solid rgba(255,168,0,.8);border-radius:20px;line-height:30px;text-align:center;position:absolute;right:20px;z-index:2}.wait[data-v-6b59e2be]{\n\t/*等待重新获取*/color:#999!important;border:1px solid #999}.change-btn[data-v-6b59e2be]{background:-webkit-gradient(linear,right top,left top,from(#3fcdeb),to(#bce29e));background:-o-linear-gradient(right,#3fcdeb,#bce29e);background:linear-gradient(-90deg,#3fcdeb,#bce29e);color:#fff;border-radius:40px;width:90%;margin:10px auto}",""])}}]);