(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-Login-login"],{"1dfd":function(t,i,e){"use strict";e.r(i);var a=e("47fa"),n=e("ba6f");for(var s in n)"default"!==s&&function(t){e.d(i,t,function(){return n[t]})}(s);e("4fcb0");var o=e("2877"),r=Object(o["a"])(n["default"],a["a"],a["b"],!1,null,"1571b7c2",null);i["default"]=r.exports},2427:function(t,i,e){i=t.exports=e("2350")(!1),i.push([t.i,".login[data-v-1571b7c2]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.logo[data-v-1571b7c2]{width:100px;height:100px;border-radius:50%;margin:20px 0}.info[data-v-1571b7c2]{width:90%;margin:5px auto;padding:5px 0;border-bottom:1px solid #01907f;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.info uni-image[data-v-1571b7c2]{width:30px;height:30px}.info uni-input[data-v-1571b7c2]{margin-left:10px;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.info .right[data-v-1571b7c2]{width:25px;height:25px;margin-right:10px}.login-btn[data-v-1571b7c2]{\n\t/*登录按键*/background:-webkit-gradient(linear,right top,left top,from(#3fcdeb),to(#bce29e));background:-o-linear-gradient(right,#3fcdeb,#bce29e);background:linear-gradient(-90deg,#3fcdeb,#bce29e);color:#fff;border-radius:40px;width:90%;margin:15px auto}.problem[data-v-1571b7c2]{\n\t/* 忘记密码/注册用户 */color:#ffa800;width:45%;font-size:17px;margin:0 auto;text-align:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between}",""])},"47fa":function(t,i,e){"use strict";var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"login"},[e("v-uni-image",{staticClass:"logo",attrs:{src:"../../static/logo.png"}}),e("v-uni-view",{staticClass:"info"},[e("v-uni-image",{attrs:{src:"../../static/login/email.png"}}),e("v-uni-input",{attrs:{type:"text",placeholder:"输入邮箱地址"},model:{value:t.email,callback:function(i){t.email=i},expression:"email"}})],1),e("v-uni-view",{staticClass:"info"},[e("v-uni-image",{attrs:{src:"../../static/login/password.png"}}),e("v-uni-input",{attrs:{type:"text",password:!t.showpassword,placeholder:"输入密码"},model:{value:t.password,callback:function(i){t.password=i},expression:"password"}}),e("v-uni-image",{staticClass:"right",attrs:{src:!0===t.showpassword?"../../static/login/show.png":"../../static/login/hide.png",mode:"widthFix"},on:{click:function(i){i=t.$handleEvent(i),t.showpassword=!t.showpassword}}})],1),e("v-uni-button",{staticClass:"login-btn",on:{click:function(i){i=t.$handleEvent(i),t.Login(i)}}},[t._v("登录")]),e("v-uni-view",{staticClass:"problem"},[e("v-uni-navigator",{attrs:{url:"FingPsw","hover-class":"none"}},[t._v("忘记密码")]),e("v-uni-text",[t._v("|")]),e("v-uni-navigator",{attrs:{url:"Register","hover-class":"none"}},[t._v("注册用户")])],1)],1)},n=[];e.d(i,"a",function(){return a}),e.d(i,"b",function(){return n})},"4fcb0":function(t,i,e){"use strict";var a=e("ff80"),n=e.n(a);n.a},ba6f:function(t,i,e){"use strict";e.r(i);var a=e("e4ad"),n=e.n(a);for(var s in a)"default"!==s&&function(t){e.d(i,t,function(){return a[t]})}(s);i["default"]=n.a},e4ad:function(t,i,e){"use strict";(function(t){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e=/^(\w-*\.*)+@(\w-?)+(\.\w{2,})+$/,a={data:function(){return{email:"",password:"",showpassword:!1}},onLoad:function(){uni.showLoading({title:"加载中..."}),this.getUserInfo()},methods:{Login:function(){var i=this;if(""===this.email)this.showToast("邮箱地址为空","../../static/error.png");else if(e.test(this.email))if(""===this.password)this.showToast("请输入密码","../../static/error.png");else{uni.showLoading({title:"登录中..."});var a={email:this.email,password:this.password};uni.request({url:"http://www.jinlongyuchitang.cn:3001/user/Login",method:"POST",data:a,success:function(t){200===t.statusCode?200===t.data.status?uni.setStorage({key:"userInfo",data:{email:i.email,ID:t.data.ID},success:function(){uni.reLaunch({url:"../main",success:function(){i.showToast("登录成功")}})}}):i.showToast(t.data.text,"../../static/error.png"):i.showToast("网络错误","../../static/error.png")},fail:function(i){t.log(i)}})}else this.showToast("邮箱地址错误","../../static/error.png")},getUserInfo:function(){var i=this,e=uni.getStorageSync("userInfo");e?uni.request({url:"http://www.jinlongyuchitang.cn:3001/user/Inspect",method:"POST",data:e,success:function(t){200===t.statusCode?"登录成功"===t.data?uni.navigateTo({url:"../main",success:function(){i.showToast("登录成功")}}):i.showToast(t.data,"../../static/warn.png"):i.showToast("请求失败","../../static/warn.png")},fail:function(i){t.log(i)},complete:function(){uni.hideLoading()}}):this.showToast("请先登录","../../static/warn.png")},showToast:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";uni.showToast({title:t,duration:1500,image:i})}}};i.default=a}).call(this,e("5a52")["default"])},ff80:function(t,i,e){var a=e("2427");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=e("4f06").default;n("6a2e25fa",a,!0,{sourceMap:!1,shadowMode:!1})}}]);